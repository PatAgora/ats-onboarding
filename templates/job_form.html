{% extends "base.html" %}
{% block title %}{{ 'Edit Job' if job else 'New Job' }}{% endblock %}

{% block content %}
<div class="container-xxl">
  <h2 class="fw-bold mb-3">{{ 'Edit Job' if job else 'Create New Job' }}</h2>

  <form method="post" class="card p-3 shadow-sm border-0">
    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label fw-semibold">Title</label>
        <input type="text" name="title" class="form-control" value="{{ job.title if job else '' }}" required>
      </div>
      <div class="col-md-6">
        <label class="form-label fw-semibold">Role</label>
        <input type="text" name="role" class="form-control" value="{{ job.role if job else '' }}">
      </div>
      <div class="col-12">
        <label class="form-label fw-semibold">Description</label>
        <textarea name="description" class="form-control" rows="4">{{ job.description if job else '' }}</textarea>
      </div>
      <div class="col-md-3">
        <label class="form-label fw-semibold">Status</label>
        <select name="status" class="form-select">
          {% for s in ['Open','Closed','On Hold'] %}
          <option value="{{ s }}" {{ 'selected' if job and job.status == s else '' }}>{{ s }}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="mt-3 d-flex gap-2">
      <button class="btn btn-primary">{{ 'Update' if job else 'Create' }}</button>
      <a href="{{ url_for('engagement_dashboard', engagement_id=job.engagement_id if job else 1) }}" class="btn btn-outline-secondary">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}